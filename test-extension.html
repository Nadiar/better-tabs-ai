<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better Tabs AI - Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .step {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .button {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 5px;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .button:hover {
            background: rgba(255,255,255,0.3);
        }
        .checklist {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .checklist input[type="checkbox"] {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>ü§ñ Better Tabs AI - Setup & Testing</h1>
    
    <div class="step">
        <h2>üìã Pre-Installation Checklist</h2>
        <div class="checklist">
            <label><input type="checkbox"> Chrome 118+ installed</label><br>
            <label><input type="checkbox"> Windows 10/11, macOS 13+, or Linux</label><br>
            <label><input type="checkbox"> At least 4GB GPU memory (VRAM)</label><br>
            <label><input type="checkbox"> 22GB free storage space</label><br>
            <label><input type="checkbox"> Developer mode enabled in Chrome</label>
        </div>
        <p><strong>Platform Support:</strong> Gemini Nano works on Chrome desktop (Windows, Mac, Linux) but is NOT yet available on mobile devices (Android/iOS).</p>
    </div>

    <div class="step">
        <h2>üé® Step 1: Icons Ready ‚úÖ</h2>
        <p>‚úÖ Extension icons have been automatically generated and are ready to use!</p>
        <p><small>All required PNG files are now in the icons/ folder.</small></p>
    </div>

    <div class="step">
        <h2>üîß Step 2: Enable Chrome AI</h2>
        <ol>
            <li>Go to <code>chrome://flags</code></li>
            <li>Search for "Prompt API for Gemini Nano"</li>
            <li>Enable the flag</li>
            <li>Restart Chrome</li>
        </ol>
    </div>

    <div class="step">
        <h2>üì¶ Step 3: Load Extension</h2>
        <ol>
            <li>Go to <code>chrome://extensions</code></li>
            <li>Enable "Developer mode" (top right)</li>
            <li>Click "Load unpacked"</li>
            <li>Select this folder: <code>better-tabs-ai</code></li>
        </ol>
    </div>

    <div class="step">
        <h2>üß™ Step 4: Test the Extension</h2>
        <ol>
            <li>Look for the Better Tabs AI icon in your toolbar</li>
            <li>Click it to open the popup</li>
            <li>Check if AI status shows "AI Ready" (green dot)</li>
            <li>Try the "Analyze & Group Tabs" feature</li>
        </ol>
        
        <h3>Create Test Tabs</h3>
        <p>Open these links in separate tabs to test grouping:</p>
        <a href="https://github.com" class="button" target="_blank">GitHub (Development)</a>
        <a href="https://stackoverflow.com" class="button" target="_blank">Stack Overflow (Development)</a>
        <a href="https://news.ycombinator.com" class="button" target="_blank">Hacker News (News)</a>
        <a href="https://reddit.com" class="button" target="_blank">Reddit (Social)</a>
        <a href="https://youtube.com" class="button" target="_blank">YouTube (Entertainment)</a>
        <a href="https://amazon.com" class="button" target="_blank">Amazon (Shopping)</a>
    </div>

    <div class="step">
        <h2>üêõ Troubleshooting</h2>
        
        <h3>üî¨ Step 1: Run Diagnostic</h3>
        <ol>
            <li>Open Chrome DevTools (F12)</li>
            <li>Go to Console tab</li>
            <li>Copy and paste this diagnostic script:</li>
            <li><code>await LanguageModel.availability()</code></li>
            <li>Check the result: "available", "downloadable", "downloading", or "unavailable"</li>
        </ol>
        
        <h3>üö© Step 2: Enable Required Chrome Flags</h3>
        <p><strong>CRITICAL:</strong> You need the correct flag enabled!</p>
        <ol>
            <li>Go to <code>chrome://flags</code></li>
            <li>Search for <strong>"Prompt API for Gemini Nano"</strong></li>
            <li>Set to <strong>"Enabled"</strong> (not "Default")</li>
            <li>You may also need: <code>chrome://flags/#optimization-guide-on-device-model</code></li>
            <li><strong>Restart Chrome completely</strong> (close ALL windows)</li>
        </ol>
        
        <h3>üìä Step 3: Check Model Status</h3>
        <ol>
            <li>Visit <code>chrome://on-device-internals</code></li>
            <li>Check the "Model Status" tab</li>
            <li>Look for Gemini Nano model status</li>
            <li>If not available, check system requirements below</li>
        </ol>
        
        <h3>üíæ Step 4: Verify System Requirements</h3>
        <div class="checklist">
            <label><input type="checkbox"> Windows 10/11, macOS 13+, or Linux (NOT mobile)</label><br>
            <label><input type="checkbox"> Chrome 118+ installed</label><br>
            <label><input type="checkbox"> 4GB+ GPU memory (VRAM) - check in Task Manager</label><br>
            <label><input type="checkbox"> 22GB+ free storage space on Chrome profile drive</label><br>
            <label><input type="checkbox"> Unmetered internet connection (not cellular)</label>
        </div>
        
        <h3>üîë Step 5: Origin Trial (Advanced)</h3>
        <p><strong>If flags don't work, you may need an origin trial token:</strong></p>
        <ol>
            <li>Go to <code>chrome://extensions</code> and note your extension ID</li>
            <li>Visit <a href="https://developer.chrome.com/origintrials/#/trials/active" class="button" target="_blank">Chrome Origin Trials</a></li>
            <li>Look for "Prompt API" trial and register your extension</li>
            <li>Add the token to your manifest.json</li>
        </ol>
        
        <h3>If extension doesn't load:</h3>
        <ul>
            <li>Check <code>chrome://extensions</code> for error messages</li>
            <li>Ensure all files are present (run <code>check-setup.py</code>)</li>
            <li>Try reloading the extension</li>
            <li>Check that Developer mode is enabled</li>
        </ul>

        <h3>If popup buttons don't work:</h3>
        <ul>
            <li>"Full Interface" and "Settings" buttons show preview messages (coming soon)</li>
            <li>"Analyze & Group Tabs" requires AI to be available</li>
            <li>Check browser console (F12) for error messages</li>
        </ul>
    </div>

    <div class="step">
        <h2>‚úÖ Success Indicators</h2>
        <div class="checklist">
            <label><input type="checkbox"> Extension appears in toolbar</label><br>
            <label><input type="checkbox"> Popup opens when clicked</label><br>
            <label><input type="checkbox"> AI status shows green "AI Ready"</label><br>
            <label><input type="checkbox"> Tab stats display correctly</label><br>
            <label><input type="checkbox"> Analysis creates group suggestions</label><br>
            <label><input type="checkbox"> Groups can be created successfully</label>
        </div>
    </div>

    <div class="step">
        <h2>üéØ Next Steps</h2>
        <p>Once the extension is working:</p>
        <ul>
            <li>Test with your real browsing tabs</li>
            <li>Try the duplicate detection feature</li>
            <li>Experiment with different types of content</li>
            <li>Provide feedback for future improvements</li>
        </ul>
    </div>

    <script>
        // Add some interactivity to checkboxes
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    checkbox.parentElement.style.opacity = '0.7';
                    checkbox.parentElement.style.textDecoration = 'line-through';
                } else {
                    checkbox.parentElement.style.opacity = '1';
                    checkbox.parentElement.style.textDecoration = 'none';
                }
            });
        });
    </script>
</body>
</html>